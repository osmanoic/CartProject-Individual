<!DOCTYPE html>

<html lang="en">

<head>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.0/css/all.min.css" integrity="sha512-xh6O/CkQoPOWDdYTDqeRdPCVd1SpvCA9XXcUnZS2FmJNp1coAFzvtCN9BmamE+4aHK8yyUHUSCcJHgXloTyT2A==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <title>Subjects</title>

    <script src="https://cdn.jsdelivr.net/npm/vue@2.7.10/dist/vue.js"></script>

</head>

<body>
<!-- element where vue will mount our application -->
    <div id = "app">
        <header>
            <h1 v-text="sitename"></h1>

          
        </header>

        <main>
            <figure>
                 <!-- <! -- bind the 'src' attribute to the product.image in data --> 
                 <img v-bind:src="product.image" width="100" height="100">
            </figure>

            <p> Subject:{{product.subject}}</p>
            <p> Location:{{product.location}}</p>
            <p>Price: {{product.price}}</p>
            <p> Spaces:{{product.spaces}}</p>
            <!-- <button 
                   v-on:click="addToCart"  
                   v-show="canAddToCart">
            Add to Cart  
            </button> -->

          

            <button v-on:click='addToCart'
            v-if="canAddToCart ">
        Add To Cart
        </button>

        <button disabled="disabled" v-else>
             Add to Cart

        </button>

       

           
        </main>
    </div>

        <script type = "text/javascript">

// the vue constructor

            var webstore = new Vue({

// The option object DOM mounting point

            el: '#app', // <== Dont forget this comma
               
            data: {  //the 'data' option
                    sitename: 'Subjects',
                    product:{
                        id:1001,
                        subject : "Math",
                        location : "London" ,//em is an emphasis style
                        price : "$100",
                        spaces:5,
                        image: "images/math.png"
                                               
                    },
                    cart:[],
                },
                methods: {
                    addToCart:function(){
                        this.cart.push(this.product.id);
                        console.log(this.cart);
                    }
                },

                computed:{ // the computer property object
                    cartItemCount: function() { // the property name
                        // its value is calculated when it is called
                        return this.cart.length || '';

                    },
                    canAddToCart (){
                        return this.product.spaces > this.cartItemCount;
                    }

                },

            });

        </script>

</body>

</html>